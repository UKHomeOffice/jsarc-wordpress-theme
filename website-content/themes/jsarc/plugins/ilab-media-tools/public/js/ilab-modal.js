!function(a){a.fn.ilabTabs=function(e){var t=a.extend({},e),n=null;return this.each(function(){for(var e=a(this),r=e,s=e.parent();;){if(s.hasClass("ilabm-container")){r=s;break}if(!(s=s.parent()))break}var i=e.find(".ilabm-tabs-select-label"),l=e.find(".ilabm-tabs-select"),c=e.find(".ilabm-editor-tab"),d=0,o=null,u=0,h=0,v=0,b=0;c.each(function(){var e,t,r,s=a(this);null===o&&(o=s.css("font"),u=parseInt(s.css("margin-left")),h=parseInt(s.css("margin-right")),v=parseInt(s.css("padding-left")),b=parseInt(s.css("padding-right"))),tabWidth=(e=s.text(),t=o,(r=(n||(n=document.createElement("canvas"))).getContext("2d")).font=t,r.measureText(e).width+u+h+v+b+15),d+=tabWidth}),i&&t.hasOwnProperty("label")&&i.text(t.label),c.removeClass("active-tab"),c.on("click",function(e){e.preventDefault(),c.removeClass("active-tab");var n=a(this);return n.addClass("active-tab"),l&&l.val(n.data("value")),t.currentValue=n.data("value"),t.hasOwnProperty("tabSelected")&&t.tabSelected(n),!1}),l&&l.on("change",function(){c.removeClass("active-tab"),c.each(function(){var e=a(this);e.data("value")==l.val()&&e.addClass("active-tab")});var e=l.find(":selected");t.hasOwnProperty("tabSelected")&&t.tabSelected(e)}),t.hasOwnProperty("currentValue")&&(l&&l.val(t.currentValue),c.each(function(){var e=a(this);e.data("value")==t.currentValue&&e.addClass("active-tab")}));var f=function(){d>r.width()-350?(i.show(),l.show(),c.hide()):(i.hide(),l.hide(),c.show())};a(window).on("resize",f),f()})}}(jQuery);
var ILabModal=function(){var n=!1;return{cancel:function(){jQuery(".ilabm-backdrop").remove()},makeDirty:function(){n=!0},isDirty:function(){return n},makeClean:function(){n=!1},loadURL:function(e,t,a){if(n&&!confirm("You've made changes, continuing will lose them.\n\nContinue?"))return!1;n=!1,jQuery.get(e,function(n){t?a(n):jQuery("body").append(n)})}}}();jQuery(document).ready(function(n){n(document).on("click","a.ilab-thickbox",function(e){e.preventDefault();var t=n(this),a=t.hasClass("ilab-thickbox-partial");return ILabModal.loadURL(t.attr("href"),a,null),!1})});